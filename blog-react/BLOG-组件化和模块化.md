---
title: 组件化和模块化
date: 2020-1-1
tags:
  - 组件化
  - 模块化
  - 编程思想
categories:
  - [编程思想, 模块化]
  - [编程思想, 组件化]
---

市面上所有前端框架都在解决两个大问题：**组件化和模块化**。

## 如何实现组件化

### 组件化有两个好处

- 功能封装
- 跨项目复用

所有框架，无论用什么语言来实现，都有一些基本的问题需要解决。

### 组件的生命周期

初始化、渲染、存活期、销毁。

### 组件之间通信

- 父子间如何通讯？
- 兄弟间如何通讯？
- 远房亲戚之间如何通讯？

无论哪种框架，典型的解决方案有 3 种：

- 父子之间通过**事件或者直接调用**进行通讯；
- 兄弟、远房亲戚之间利用**事件总线**进行通讯；
- 远房亲戚，**存储对象引用到本地**，利用本地存储 cookie、localstorage、甚至服务端 session 进行通讯。

### 管理组件的状态

- 是否需要双向绑定？
- 如何配合路由保持组件状态？

### 组件样式

## 如何实现模块化，seajs/commonjs/esm

由于 JavaScript 这门语言本身的缺陷，它没有提供完善的模块化支持，这就导致了所有前端框架必须自己解决模块化的问题。

## 总结

无论你目前在使用什么前端框架，无论你以后想学哪些前端框架，只要**紧紧扣住“组件化”和“模块化”这两条主线**，心里就会有大方向了，绝对不会迷失在茫茫多的技术细节里面。

## 组件怎么写

重复的部分代码抽出来，形成一个组件。

### 需求分析

为了更好的维护，以及更好的复用此组件，就要做些抽象。

数据层：用来决定按钮个数以及按钮是否选择
表现层：按钮使用现有的 ui 组件
逻辑层：按钮事件等逻辑处理
